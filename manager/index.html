<!DOCTYPE html>
<html lang="ja" class="dark">

<head>
    <meta charset="UTF-8">
    <!-- CSPの追加 -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' https://unpkg.com https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' ws: https://unpkg.com;">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nekolite-Server Manager</title>
    <link href="./dist/output.css" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            font-size: 0.9rem;
        }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        .dark ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #9ca3af; border-radius: 4px; }
        .dark ::-webkit-scrollbar-thumb { background: #4b5563; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
        .dark ::-webkit-scrollbar-thumb:hover { background: #6b7280; }

        /* contenteditableプレースホルダー */
        [contenteditable="true"]:empty:before {
            content: attr(placeholder);
            color: #9ca3af;
            pointer-events: none;
            display: block;
        }

        /* lucide-reactのデフォルトアニメーション */
        .animate-spin-slow-hover:hover {
            animation: spin 3s linear infinite;
        }
    </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-300 h-screen flex flex-col overflow-hidden antialiased transition-colors duration-300">
    
    <!-- ローディングオーバーレイ -->
    <div id="loading-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-90 flex flex-col items-center justify-center z-50">
        <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary"></div>
        <p class="mt-4 text-lg font-semibold text-white">Connecting to agents...</p>
    </div>

    <!-- App Header (JSで描画) -->
    <header id="app-header" class="bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800 px-4 py-3 flex-shrink-0 z-40 shadow-sm transition-colors duration-300">
        <!-- ヘッダーコンテンツはJSによって注入されます -->
    </header>

    <!-- App Main Content (JSで描画) -->
    <div id="app-container" class="flex-1 flex overflow-hidden relative bg-gray-50 dark:bg-gray-900 transition-colors duration-300" style="visibility: hidden;">
        <!-- レイアウトコンテンツはJSによって注入されます -->
    </div>

    <!-- Modal Container (JSで描画) -->
    <div id="modal-container"></div>
    
    <!-- Notification Container (JSで描画) -->
    <div id="notification-container" class="fixed top-5 right-5 z-50 space-y-3 w-full max-w-xs"></div>


    <!-- JS Entry Points -->
    <script type="module" src="renderer-state.js"></script>
    <script type="module" src="renderer-ui.js"></script>
    <script type="module" src="renderer.js"></script>
</body>

</html>